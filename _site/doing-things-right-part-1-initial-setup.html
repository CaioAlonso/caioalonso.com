<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
  <title>Doing Things Right · Part 1 · Initial Setup · Caio Alonso</title>
  
  <link href="/css/style.css" media="screen" rel="stylesheet" type="text/css" />
  <meta name="viewport" content="width=device-width">
  <meta name="author" content="Caio Alonso <caio@caioalonso.com>" />
  <link rel="alternate" type="application/atom+xml" title="Atom" href="http://http://localhost:4000/atom.xml" />
</head>
<body>
<div class="wrapper">
  <h1><a href="/">Caio Alonso</a></h1>
  <a class="email" href="mailto:caio@caioalonso.com">caio@caioalonso.com</a>
  <h2>
  <a href="/doing-things-right-part-1-initial-setup.html" title="Doing Things Right · Part 1 · Initial Setup" rel="bookmark">Doing Things Right · Part 1 · Initial Setup</a>
</h2>
<p>This will be a series of texts explaining to a future me (and anyone that might find it useful) the decisions behind my attempt to have an organized and thought out electronic presence.</p>

<p>I find this necessary because:</p>

<ol>
  <li>Methodically logging what I am doing will force me to be less impulsive about changing things just for novelty’s sake;</li>
  <li>I’ll have one place to go if I need to reconfigure something or check if I missed some detail;</li>
  <li>A good exercise in discipline;</li>
</ol>

<p>These texts will be updated if I come up with new information.</p>

<p>A remote server seems currently needed to host this website, my email, my git repositories and everything else that may need to be backed up remotely or be executed constantly. I’ll begin by covering the setup of this server.</p>

<h1 id="the-server">The Server</h1>

<p>Any VPS will do. Don’t go with a really cheap one because they tend to disappear. <a href="https://ramnode.com/">RamNode</a> is the current choice.</p>

<p>For the distribution, Debian stretch/testing is the current choice. Jessie/stable is too old and stretch seems stable enough.</p>

<p>After getting everything online, this is what I did:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ssh root@&lt;IP&gt;
</code></pre>
</div>

<p>Make sure I have an updated system</p>

<div class="highlighter-rouge"><pre class="highlight"><code>apt-get update
apt-get upgrade
apt-get dist-upgrade
</code></pre>
</div>

<p>Install a few utilities that I’m sure I’l need</p>

<div class="highlighter-rouge"><pre class="highlight"><code>apt-get install vim curl tmux git zsh
</code></pre>
</div>

<p>Create my main user to stop using root</p>

<div class="highlighter-rouge"><pre class="highlight"><code>adduser caio
usermod -a caio -G sudo
</code></pre>
</div>

<p>Setup my SSH key</p>

<div class="highlighter-rouge"><pre class="highlight"><code>su caio
mkdir .ssh
vim .ssh/authorized_keys
</code></pre>
</div>

<p>Disconnect and check if it works</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ssh caio@&lt;IP&gt;
</code></pre>
</div>

<p>That MOTD will get boring quickly, also tests if sudo is working</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo vim /etc/motd
</code></pre>
</div>

<p>Disable root login and password login</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo vim /etc/ssh/sshd_config
    PermitRootLogin no
    ChallengeResponseAuthentication no
    PasswordAuthentication no
    UsePAM no
sudo systemctl restart sshd
</code></pre>
</div>

<p>Now NTP and the timezone</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo dpkg-reconfigure tzdata
sudo apt-get install ntp
sudo systemctl enable ntp
sudo systemctl start ntp
</code></pre>
</div>

<p>And the locale</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo dpkg-reconfigure locales
</code></pre>
</div>

<p>That’s it. You now have a working and relatively secure server. Next it’ll be getting my <a href="https://git.caioalonso.com/dotphiles/">dotfiles</a> in place.</p>

<abbr class="published" title="2016-04-22 00:00:00 -0300">22 Apr 2016</abbr>

</div>
</body>
</html>
